stacks:
- cms-fronts
deployments:
  static-story-packages:
    parameters:
      cacheControl:
      - pattern: .*\.js$
        value: public, max-age=315360000
      - pattern: .*
        value: public, max-age=60
      publicReadAcl: true
      prefixPackage: true
      mimeTypes:
        js: application/javascript
        json: application/json
        map: text/plain
      prefixStack: false
      bucket: cms-fronts-static-assets
      prefixStage: true
    type: aws-s3
  story-packages:
    parameters:
      bucket: story-packages-dist
    type: autoscaling
  machine-images:
    parameters:
      prependStackToCloudFormationStackName: false
      cloudFormationStackName: story-packages
      appendStageToCloudFormationStackName: true
      amiTags:
        Recipe: ubuntu-wily-java8
        AmigoStage: PROD
      amiParameter: MachineImageID
    type: ami-cloudformation-parameter
regions:
- eu-west-1
