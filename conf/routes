# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

GET         /_healthcheck                            controllers.StatusController.healthStatus

# authentication endpoints
GET         /authError                               controllers.PandaAuthController.authError(message:String)
GET         /oauthCallback                           controllers.PandaAuthController.oauthCallback
GET         /logout                                  controllers.PandaAuthController.logout
GET         /login/status                            controllers.PandaAuthController.status

# healthcheck
GET         /status                                  controllers.StatusController.healthStatus

# static files
GET         /assets/*file                            controllers.UncachedAssets.at(file)

##################### NOTE ############################
#all endpoints below this line should be authenticated#
#######################################################

# Fronts
GET         /                                        controllers.FaciaToolController.priorities()
GET         /editorial                               controllers.FaciaToolController.collectionEditor()
GET         /training                                controllers.FaciaToolController.collectionEditor()

GET         /collection/*collectionId                controllers.FaciaToolController.getCollection(collectionId)
POST        /edits                                   controllers.FaciaToolController.collectionEdits
GET         /defaults                                controllers.DefaultsController.configuration()

GET         /story-package/*id                       controllers.StoryPackagesController.getPackage(id)

GET         /reindex                                 controllers.StoryPackagesController.reindex()


# endpoints for proxying https
GET         /api/preview/*path                       controllers.FaciaContentApiProxy.capiPreview(path)
GET         /api/live/*path                          controllers.FaciaContentApiProxy.capiLive(path)
GET         /http/proxy/*url                         controllers.FaciaContentApiProxy.http(url)
GET         /json/proxy/*absUrl                      controllers.FaciaContentApiProxy.json(absUrl)

# Updating config

POST        /story-packages/create                   controllers.StoryPackagesController.create()
GET         /story-packages/search/*term             controllers.StoryPackagesController.search(term)
GET         /story-packages/latest                   controllers.StoryPackagesController.latest()
DELETE      /story-package/*id                       controllers.StoryPackagesController.deletePackage(id)

# Vanity URL

GET /story/*id                                       controllers.VanityRedirects.storyPackage(id)
